# lc BWC 41

12/19

------

- 1684 easy

    统计字符集。

- 1685 medium

    先计算第一个数作为中心的结果，每次变化的时候只需要考虑两个中心数之间的 `delta` ，统计增加以及减少的数量并维护即可。

- 1686 medium

    决策问题。重点是需要发现最优策略。观察可以发现，最优策略是取剩余下标中 `a[i] + b[i]` 最大对应的 `i` 即可。

    （假设两个下标 `1, 2` 的分值和分别为 `k1, k2 (k1 > k2)`, 先手取不同下标，最终先后手分值差分别为 `a1 - b2 = a1 + a2 - k2` 和 `a2 - b1 = a1 + a2 - k1`, 显然前者先手分差更大）

    因此只需要对 `a[i] + b[i]` 降序排序，然后计算分值比较即可。

- 1687 hard

    $10^5$ 的数据量显然平方算法会超时，因此需要优化。从状态转移入手， `dp[i]` 为运完前 `i` 个货物的最小花费，那么转移方程为 `dp[i] = min_{j \in req}(dp[j] + diff(i, j) + 2)`, 而表示范围内变换码头次数的函数显然可以用前缀和维护，即 `diff(i, j) = ports[i] - ports[j+1]`, 进而转移方程变成 `dp[i] = min_{j \in req}(dp[j] - ports[j+1]) + ports[i] + 2`.

    因此转移就变成了求另一个函数 `f[j] = dp[j] - ports[j+1]` 在符合条件区间 `req` 的最小值。区间的右端点是 `i-1`, 左端点随着 `i` 增加也会右移，因此可以用单调增队列维护区间最小值，进而将时间复杂度简化到 $O(n)$.

------

是 `dp` 废物本人了（